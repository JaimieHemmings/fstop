{% extends 'base.html' %}
{% load static %}

{% block extra_title %} | Portfolio
{% endblock %}

{% block content %}


<section class="gallery">
	<div class="row">
		<ul>
      {% if portfolio_images %}
        {% for img in portfolio_images %}
        <li>
          <a href="#item01" class="gallery-item">
            <img src="{{ img.image.url }}" alt="{{ img.title }}" data-description="{{ img.description }}" data-title="{{ img.title }}">
          </a>
        </li>
          
        {% endfor %}
      {% endif %}
		</ul>
	</div> <!-- / row -->

	<!-- Item 01 -->
	<div id="port" class="port">
	
		<div class="row">
			<div class="description">
        <button id="close_port">X</button>
				<h1 id="portTitle">Item 01</h1>
				<p id="portDescription">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus quis libero erat. Integer ac purus est. Proin erat mi, pulvinar ut magna eget, consectetur auctor turpis.</p>
			</div>

				<img id="portImg" src="https://cdn.dribbble.com/users/545884/screenshots/3981307/lorena2.png" alt="">
			</div>
		</div> <!-- / row -->

	</div> <!-- / Item 02 -->

</section>

{% include 'partials/cta.html' %}
{% endblock %}

{% block postload_js %}
<script>
portImg = document.getElementById('portImg');
port = document.getElementById('port');
portTitle = document.getElementById('portTitle');
portDescription = document.getElementById('portDescription');

galleryItems = document.querySelectorAll('.gallery-item');
galleryItems.forEach(function(item) {
  item.addEventListener('click', function() {
    portImg.src = item.querySelector('img').src;
    // get the data-description value
    imgTitle = item.querySelector('img').getAttribute('data-title');
    imgDescription = item.querySelector('img').getAttribute('data-description');
    portTitle.innerHTML = imgTitle;
    portDescription.innerHTML = imgDescription;
    port.classList.add('item_open');
  });
});

document.getElementById('close_port').addEventListener('click', function() {
  port.classList.remove('item_open');
});

</script>
{% endblock %}